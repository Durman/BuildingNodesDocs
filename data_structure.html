<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Structure &mdash; Building Nodes 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Execution system" href="execution_system.html" />
    <link rel="prev" title="User Interface" href="user_interface.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Building Nodes
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">User Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#base-geometry">Base geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="#facade">Facade</a></li>
<li class="toctree-l2"><a class="reference internal" href="#floor">Floor</a></li>
<li class="toctree-l2"><a class="reference internal" href="#panel">Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fields">Fields</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="execution_system.html">Execution system</a></li>
<li class="toctree-l1"><a class="reference internal" href="nodes/categories.html">Nodes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Building Nodes</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Data Structure</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/data_structure.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-structure">
<h1>Data Structure<a class="headerlink" href="#data-structure" title="Permalink to this headline"></a></h1>
<a class="reference internal image-reference" href="_images/Facade_data_structure.jpg"><img alt="_images/Facade_data_structure.jpg" src="_images/Facade_data_structure.jpg" style="width: 700px;" /></a>
<p>If you have a look at the facade you can find that it can be split into a few
principle blocks from which the whole facade can be recreated. This feature of
human dwelling can be used for simplifying modelling of buildings. It’s possible
to create a few principle blocks, panels, use some rules to distribute them
along some surfaces, facades, and combine facades into a building. To define
surfaces and building base geometry is used. The advantage of this approach is
that the same panels and rules can be applied to multiple objects. Also it
possible to re-apply the rules whenever an object is changed.</p>
<section id="base-geometry">
<h2>Base geometry<a class="headerlink" href="#base-geometry" title="Permalink to this headline"></a></h2>
<p>This is basic Blender mesh object which should be turned into a building.
Before applying rules its geometry is parsed into a facades.
Face is recognized as part of a facade according to certain rules:</p>
<ul class="simple">
<li><p>It should be vertical</p></li>
<li><p>It should be a quad</p></li>
<li><p>Faces of one facade should be connected to each other</p></li>
<li><p>Faces of one facade should be oriented in the same direction</p></li>
<li><p>Faces with different materials go to separate facades</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<figure class="align-right" style="width: 150px">
<img alt="_images/Non_quad.png" src="_images/Non_quad.png" />
</figure>
<p>By quad means face with 4 vertices. Though the face on the picture has
shape of a quad it is not recognized as a quad because it has extra 5 vertex.
Non the less the face won’t be ignored but also it won’t be part of any
facade and will represent the entire facade by itself. In future this
limitation will may gone.</p>
</div>
<p>Also it’s possible to split faces into different facade by separating them with
line of edges with <code class="docutils literal notranslate"><span class="pre">crease</span></code> value equal to 1.</p>
<p>All faces which was not recognized as facade faces are ignored and stay as they
are.</p>
</section>
<section id="facade">
<span id="facades"></span><h2>Facade<a class="headerlink" href="#facade" title="Permalink to this headline"></a></h2>
<p>Facade is 1D array of floors which go from bottom to top. Floors are also 1D
arrays of panels so about the entire facade data structure you can think as
a 2D array or a table. But unlike table each row can have different number of
cells and cells are not necessary joined into columns. Use
<a class="reference internal" href="nodes/facade/facade_pattern.html"><span class="doc">Facade Pattern</span></a> to create a facade.</p>
<p>Though the shape of 2D array can’t be anything but rectangle a facade can have
any shape which can be build with mesh of quads.</p>
<p>Facade can have any size. Number of floors and number of panels is automatically
adjusted to available space herewith size of panels can be a bit scaled.</p>
<p>Also there is snapping feature. Floors borders and borders between panels can
snap to closest vertical and horizontal edges. If distance between parallel
edges is to close to put there a floor or a panel then such edges are just
ignored.</p>
</section>
<section id="floor">
<span id="floors"></span><h2>Floor<a class="headerlink" href="#floor" title="Permalink to this headline"></a></h2>
<p>Floor is just horizontal line of panels. The panels are ordered from left to
right. Floor has some height. By default it
is equal to highest panel in a row. If facade has panels with different height
their height is scaled to height of the floor. Floor can be created with
<a class="reference internal" href="nodes/floor/floor_pattern.html"><span class="doc">Floor Pattern Node</span></a>.</p>
</section>
<section id="panel">
<span id="panels"></span><h2>Panel<a class="headerlink" href="#panel" title="Permalink to this headline"></a></h2>
<p>Panels are elementary building blocks of a facade. It typically is a 2D shape
which represents one part of a wall or another. Though it’s a 2D shape it can
have protruding parts. Panels are used to be distributed along a facade surface.
Panel can be created with <a class="reference internal" href="nodes/panel/panel.html"><span class="doc">Panel Node</span></a>.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<a class="reference internal image-reference" href="_images/Panel_orientation.png"><img alt="_images/Panel_orientation.png" class="align-right" src="_images/Panel_orientation.png" style="width: 250px;" /></a>
<p>You should be careful about orientation of the panels. They should lay on
horizontal surface (XY) where X axis is parallel to facade length, Y axis
is parallel to facade height and Z axis is perpendicular to facade.
Also it’s important to know that origin is also took into account during
panels instancing. Typically it should be in the center of a panel.</p>
</div>
<p>If <cite>XY</cite> orientation of the panels is not convenient you can always rotate and
move panels in object mode however you like.</p>
<p>By default the size of a panel is determined by its bounding box, but it’s
possible override the size with <a class="reference internal" href="user_interface.html#set-scope-operator"><span class="std std-ref">Set scope operator</span></a>.
It is useful in case if panels should have some overlapping parts. Also
with the operator it’s convenient to put origin into center of the panel.</p>
</section>
<section id="fields">
<span id="id1"></span><h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline"></a></h2>
<p>First of all fields are some elementary data like number, string etc. They
represent some characteristic of facade element as its size or index of its
position.
Fields share the same concept as Geometry Nodes. Read official <a class="reference external" href="https://docs.blender.org/manual/en/latest/modeling/geometry_nodes/fields.html">documentation</a>.</p>
<p>For example on the picture below Index socket of Floor attributes node outputs
a field. It means that whenever Select Floor node try to read floor index it
actually evaluate a function and thus Index attribute is not some context value
but value which depends on the context.</p>
<a class="reference internal image-reference" href="_images/Fields_example.png"><img alt="_images/Fields_example.png" src="_images/Fields_example.png" style="width: 700px;" /></a>
<p>Actually every node in the add-on is a field. You can create some floor and use
it in different facades without need of copying it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As in Geometry nodes project different shapes of sockets are used but their
meaning is different. In Building nodes also there are sockets with two types
of shape. Diamond shape is used for sockets which transfer primitive data
type like numbers, strings, booleans. Circle shape is used for more complex
data like panels, floors etc.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="user_interface.html" class="btn btn-neutral float-left" title="User Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="execution_system.html" class="btn btn-neutral float-right" title="Execution system" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Randum.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>